<html>
  <head>
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <style>
      body {
        margin: 0;
        width: 100vw;
        height: 100vh;
        position: relative;
        background: black; /* optional solid background */
      }
      /* Wraps entire scene */
      .scene {
        position: relative;
        width: 100%;
        max-width: 1000px; /* match your background image's real pixel width */
        margin: 0 auto;
        image-rendering: pixelated;
      }
      /* Background image now an <img> */
      .bg {
        width: 100%;
        display: block;
        image-rendering: pixelated;
      }
      /* Base sprite styling */
      .sprite {
        position: absolute;
        image-rendering: pixelated;
      }
      /* Hover sprites */
      .sprite-hover {
        image-rendering: pixelated;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        position: absolute;
        background-image: var(--idle);
        left: 0;
        top: 0;
      }
      .sprite-hover:hover {
        /*z-index: 10;*/
        background-image: var(--hover);
        border: 5px solid red !important;
        display: inline-block;
      }
      .sprite-container {
        position: absolute;
      }
      .dropdown {
        position: absolute;
        padding: 6px 10px;
        background: rgb(255, 230, 169);
        border: 2px solid rgb(255, 179, 121);
        border-radius: 2px;
        color: rgb(141, 81, 43) !important;
        font-family: "Press Start 2P", monospace;
        font-size: 5px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.15s ease-out;

        image-rendering: pixelated;
        z-index: 10000;
      }
      .dropdown-menu {
        position: absolute;
        margin-left: 5px; /* optional spacing */
        display: none; /* JS will toggle this */
        z-index: 1000; /* make sure it appears above other content */

        background: rgb(255, 230, 169);
        border: 2px solid rgb(255, 179, 121);
        border-radius: 2px;
        padding: 0;
        margin-top: 0;
        transition: opacity 0.15s ease-out;
      }
      /* Show dropdown when hovering sprite */
      .sprite-container:hover .dropdown {
        opacity: 1;
        pointer-events: auto;
      }
    </style>
  </head>

  <body>
    <div class="scene">
      <!-- Background image INSIDE a div -->
      <img class="bg" src="assets/background.gif" alt="background" />

      <!-- Rocking chair sprite -->
      <img
        class="sprite"
        src="assets/rocking_sprite.gif"
        alt="Rocking chair sprite"
        style="left: 15%; top: 50%; width: 20%"
      />

      <!-- videos -->
      <div
        class="sprite-container"
        style="left: 1%; top: 16%; width: 30%; height: 19%"
      >
        <div
          class="sprite-hover"
          style="
            --hover: url('assets/videos-hover.png');
            --idle: url('assets/videos-idle.png');
            z-index: 9;
            width: 100%;
            height: 100%;
          "
        ></div>
        <div
          class="dropdown"
          style="top: -45px; left: 50%; transform: translateX(-50%)"
        >
          <a class="btn dropdown-toggle"> Videos </a>
          <ul
            class="dropdown-menu"
            style="
              top: 0; /* align top of menu with button */
              left: 100%; /* position to the right of dropdown */
            "
          >
            <li>
              <a
                class="dropdown-item"
                href="https://www.youtube.com/@KATypus"
                target="_blank"
                >YouTube Channel</a
              >
            </li>
          </ul>
        </div>
      </div>

      <!-- short-stories -->
      <div
        class="sprite-container"
        style="left: 69%; top: 17%; width: 28%; height: 19%; z-index: 9"
      >
        <div
          class="sprite-hover"
          style="
            --hover: url('assets/short_stories2.png');
            --idle: url('assets/short_stories1.png');
            z-index: 9;
            width: 100%;
            height: 100%;
          "
        ></div>
        <div
          class="dropdown"
          style="top: -45px; left: 50%; transform: translateX(-50%);
          z-index: 10000;"
        >
          <a class="btn dropdown-toggle"> Short Stories </a>
          <ul
            class="dropdown-menu"
            style="
              top: 0; /* align top of menu with button */
              right: 100%; /* position to the left of dropdown */
              z-index: 10000;
            "
          >
            <li>
              <a class="dropdown-item" href="shortstories/a_letter_for_the_dancing_deserter.pdf" target="_blank"
                >A Letter For The Dancing Deserter</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="shortstories/apple_pie.pdf" target="_blank"
                >Apple Pie</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="shortstories/bookshop.pdf" target="_blank"
                >Bookshop</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="shortstories/dystopian_fiction.pdf" target="_blank"
                >Dystopian Fiction</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="shortstories/medal_of_achievement.pdf" target="_blank"
                >Medal of Achievement</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="shortstories/sweet_dreams.pdf" target="_blank"
                >Sweet Dreams</a
              >
            </li>
          </ul>
        </div>
      </div>

      <!-- CV -->
      <div
        class="sprite-container"
        style="
          left: 69%;
          top: 36%;
          --hover: url('assets/cv2.png');
          --idle: url('assets/cv1.png');
          width: 28%;
          height: 19%;
          z-index: 9;
        "
      >
    <div
    class="sprite-hover"
    style="--hover: url('assets/cv2.png');
          --idle: url('assets/cv1.png');
          z-index: 9;
            width: 100%;
            height: 100%;">
    </div>
   <div
          class="dropdown"
          style="top: -45px; left: 50%; transform: translateX(-50%)"
        >
          <a class="btn dropdown-toggle"> CV </a>
          <ul
            class="dropdown-menu"
            style="
              top: 0; /* align top of menu with button */
              right: 100%; /* position to the left of dropdown */
            "
          >
            <li>
              <a class="dropdown-item" href="pdfs/cv.pdf" target="_blank"
                >Read Here</a
              >
            </li>
          </ul>
        </div>
        </div>
        <!-- PROJECTS -->
        <div
        class="sprite-container"
        style="left: 3%; top: 36%; width: 30%; height: 19%"
      >
        <div
          class="sprite-hover"
          style="
            --hover: url('assets/projects2.png');
            --idle: url('assets/projects1.png');
            width: 100%;
            height: 100%;
          "
        ></div>
        <div
          class="dropdown"
          style="top: -45px; left: 50%; transform: translateX(-50%)"
        >
          <a class="btn dropdown-toggle"> Projects </a>
          <ul
            class="dropdown-menu"
            style="
              top: 0; /* align top of menu with button */
              left: 100%; /* position to the right of dropdown */
            "
          >
            <li>
              <a
                class="dropdown-item"
                href="https://thetrentonproject.com/"
                target="_blank"
                >Trenton Project Website</a
              >
            </li>
            <li>
              <a
                class="dropdown-item"
                href="https://github.com/Katypus"
                target="_blank"
                >Github</a
              >
            </li>
          </ul>
        </div>
      </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll(".dropdown").forEach((dropdown) => {
          const button = dropdown.querySelector(".dropdown-toggle");
          const menu = dropdown.querySelector(".dropdown-menu");

          // Track if pointer is inside button or menu
          let isHovering = false;

          function openMenu() {
            dropdown.classList.add("show");
            menu.classList.add("show");
            menu.style.display = "block";
          }

          function closeMenu() {
            dropdown.classList.remove("show");
            menu.classList.remove("show");
            menu.style.display = "none";
          }

          function handleMouseEnter() {
            isHovering = true;
            openMenu();
          }

          function handleMouseLeave() {
            isHovering = false;
            // Delay a little to allow pointer to move to menu
            setTimeout(() => {
              if (!isHovering) {
                closeMenu();
              }
            }, 50); // 50ms works well
          }

          [button, menu].forEach((el) => {
            el.addEventListener("mouseenter", handleMouseEnter);
            el.addEventListener("mouseleave", handleMouseLeave);
          });
        });
      });
    </script>
  </body>
</html>
